# 实时协作引擎实现

## 描述
设计并实现一个实时协作引擎，支持多用户同时编辑文档、代码或图形，类似Google Docs或Figma的核心协作功能。

## 要求
1. 使用JavaScript/TypeScript实现
2. 实现以下核心功能：
   - 操作转换(Operational Transformation)或冲突无关数据类型(CRDT)
   - 实时数据同步
   - 用户光标和选择区域可视化
   - 变更历史和版本控制
   - 冲突检测和解决
   - 权限管理
   - 离线支持和数据合并
   - 实时通信（WebSocket或类似技术）
3. 支持以下数据类型的协作：
   - 富文本文档
   - 代码编辑
   - 结构化数据（如JSON）
   - 简单图形（可选）
4. 创建服务器端和客户端组件
5. 优化性能，确保低延迟体验
6. 实现安全措施和数据验证
7. 提供详细的API文档和集成指南

## 输入
无特定输入，需要从头创建实时协作引擎项目。

## 期望输出
1. 完整的协作引擎源代码（客户端和服务器端）
2. 数据同步算法实现
3. API文档和集成指南
4. 示例应用
5. 性能测试报告
6. 架构设计文档
7. 安全措施说明

## 评估标准
1. 实时协作的可靠性和一致性
2. 冲突解决的有效性
3. 性能和延迟优化
4. 离线支持的可靠性
5. API设计的易用性
6. 安全性和数据完整性
7. 代码质量和可维护性
8. 文档的清晰度和完整性