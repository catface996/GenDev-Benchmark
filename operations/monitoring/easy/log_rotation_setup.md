# 日志轮转与管理配置

## 描述

本案例要求配置和实现服务器日志的轮转和管理策略，确保日志文件不会无限增长并占用过多磁盘空间。

## 要求

1. 为Linux服务器配置日志轮转，包括:
   - 系统日志(/var/log/syslog, /var/log/messages等)
   - Web服务器日志(Apache或Nginx)
   - 应用日志(自定义应用)
   - 数据库日志(MySQL或PostgreSQL)
2. 配置日志轮转策略:
   - 基于大小的轮转
   - 基于时间的轮转(每日、每周)
   - 保留历史日志的数量或时间
   - 压缩旧日志
3. 配置日志权限和所有权
4. 实现日志轮转后的操作(如重新打开日志文件)
5. 配置日志清理策略
6. 编写日志管理脚本

## 输入

一个Linux服务器(Ubuntu或CentOS)，运行以下服务:
- Web服务器(Apache或Nginx)
- 数据库(MySQL或PostgreSQL)
- 自定义应用(生成日志到/var/log/app/)

## 预期输出

1. logrotate配置文件
2. 日志权限和所有权配置
3. 日志轮转后的脚本
4. 日志清理脚本
5. cron配置(如需要)
6. 日志管理文档

## 评估标准

1. **配置正确性**: logrotate配置是否正确
2. **策略合理性**: 轮转策略是否合理
3. **安全性**: 日志权限是否配置合理
4. **完整性**: 是否处理了所有类型的日志
5. **可维护性**: 配置是否易于维护
6. **文档质量**: 文档是否清晰完整

## 难度

低

## 技能点

- logrotate配置
- 日志管理策略
- 文件系统权限
- Shell脚本编写
- cron任务调度
- 系统服务配置